/*! freewriting-app v0.0.1 | (c) 2019 Mark Buskbjerg | MIT License | http://github.com/MarkBuskbjerg/freewriting-app */
var render=function(e,t){if("function"==typeof e&&(e.elem=t),(t="string"==typeof t?document.querySelector(t):t)&&"string"==typeof(e="function"==typeof e?e(e.state):e)&&t.innerHTML!==e){if(t.innerHTML=e,"function"==typeof window.CustomEvent){var n=new CustomEvent("render",{bubbles:!0});t.dispatchEvent(n)}return t}},freewriting=(function(){var c={deleteCharacter:function(e){var t=e.split("");return t.pop(),t.join("")},startTimer:function(e,i){var o,a,d=e;setInterval((function(){if(o=parseInt(d/60,10),a=parseInt(d%60,10),o=o<10?"0"+o:o,a=a<10?"0"+a:a,i.textContent=o+":"+a,0===d){var e=document.getElementById("textInput"),t=document.getElementById("placeholder"),n=document.getElementById("wordCount"),r='<div class="tekstr-info-box"><p><strong>Great work. This is your text:</strong></p><div>'+e.value.replace(/\n\r?/g,"<br />")+"</div></div>";e.style.display="none",t.innerHTML=r,n.innerHTML="You've written: "+c.words(e.value).length+" words"}--d<0&&(i.textContent="00:00")}),1e3),c.words=function(e){return e.replace(/[-'.]/gi,"").split(/[^a-zA-ZæøåÆØÅ0-9]/g).filter(Boolean)}},typeWatcher:function(t,n){var r=n;setInterval((function(){var e=t.value;t.addEventListener("keydown",(function(e){8==e.which||37==e.which||38==e.which||39==e.which||40==e.which||46==e.which||(r=n)})),r<=0?t.value=c.deleteCharacter(e):r-=500}),500)}};return c})(),template='<div class="freewriting-toolbar" id ="toolbar"><span id="toolbarWrapper">Tid: <span id="timer">10:00 </span><span id="wordCount" style="float: right;"></span></div></div><div class="freewriting-text-box"><textarea id="textInput" rows="14" placeholder="The counter fires off once you start typing.."></textarea><div id="placeholder"></div></div>';render(template,"#app");var initiator=function(e){if("textInput"===e.target.id){document.removeEventListener("keyup",initiator,!1);var t=document.getElementById("textInput"),n=document.getElementById("timer");freewriting.startTimer(600,n),freewriting.typeWatcher(t,2e3),t.onkeydown=function(e){8!=e.which&&37!=e.which&&38!=e.which&&39!=e.which&&40!=e.which&&46!=e.which||event.preventDefault(),console.log(e.which)}}};document.addEventListener("keyup",initiator,!1);